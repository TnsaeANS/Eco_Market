{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Edit Profile</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        margin: 0;
        padding: 0;
      }

      .container {
        display: flex;
        justify-content: space-evenly;
        margin: 20px;
      }

      .profile-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        border: 2px solid #ccc;
        border-radius: 20px;
        padding: 10px;
        color: black;
        background-color: lightblue;
      }

      .profile-picture {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        object-fit: cover;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .form-group input[type="text"],
      .form-group input[type="email"] {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 14px;
      }

      .form-group textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 14px;
        resize: vertical;
      }

      .button-container {
        text-align: center;
        margin-top: 200px;
      }

      .button-container button {
        padding: 10px 20px;
        background-color: white;
        color: rgb(13, 72, 231);
        font-weight: bold;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
      }

      .button-container button:hover {
        background-color: white;
      }

      .card {
        background-color: lightblue;
        padding: 70px;
        border-radius: 20px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="profile-container">
        <div>
          <img class="profile-picture" src="" alt="Profile Picture" />
          <input type="file" id="file-input" class="form-control" />
        </div>
        <div class="button-container">
          <button id="save-button">Save Changes</button>
        </div>
      </div>

      <div>
        <div class="card">
          <form id="edit-profile-form">
            <div class="form-group">
              <label for="full-name">Full name:</label>
              <input id="full-name" class="form-control" type="text" value="" />
            </div>
            <div class="form-group">
              <label for="bio">Bio:</label>
              <textarea id="bio" class="form-control"></textarea>
            </div>
            <div class="form-group">
              <label for="business-status">Business status:</label>
              <input
                id="business-status"
                class="form-control"
                type="text"
                value=""
              />
            </div>
            <div class="form-group">
              <label for="email">Email:</label>
              <input id="email" class="form-control" type="email" value="" />
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      document
        .getElementById("save-button")
        .addEventListener("click", function (e) {
          e.preventDefault();

          var fullName = document.getElementById("full-name").value;
          var bio = document.getElementById("bio").value;
          var businessStatus = document.getElementById("business-status").value;
          var email = document.getElementById("email").value;

          var fileInput = document.getElementById("file-input");
          if (fileInput.files.length > 0) {
            var reader = new FileReader();
            reader.onload = function (e) {
              var imageBase64 = e.target.result;
              localStorage.setItem("profilePicture", imageBase64);
              document.querySelector(".profile-picture").src = imageBase64;
            };
            reader.readAsDataURL(fileInput.files[0]);
          }

          localStorage.setItem("fullName", fullName);
          localStorage.setItem("bio", bio);
          localStorage.setItem("businessStatus", businessStatus);
          localStorage.setItem("email", email);

          window.location.href = "/AccountSetting";
        });
    </script>
  </body>
</html>
